<!DOCTYPE html>
<html>
<head>
	<title>Nucleares SVG Overview</title>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<style>
		html,body{
			margin: 0;
			padding: 0;
			overflow: hidden;
		}
		body > svg {
			background-color: #777;
		}
	</style>
</head>
<body>
<svg viewBox="0 0 2000 1000" preserveAspectRatio="xMidYMid meet" style="width: 100%; height: 100%;">
	<!-- Style Definitions -->
	<defs>
		<linearGradient id="GradGreen0" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="0%"/><stop stop-color="lightgrey" offset="0%"/></linearGradient>
		<linearGradient id="GradGreen1" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="1%"/><stop stop-color="lightgrey" offset="1%"/></linearGradient>
		<linearGradient id="GradGreen2" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="2%"/><stop stop-color="lightgrey" offset="2%"/></linearGradient>
		<linearGradient id="GradGreen3" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="3%"/><stop stop-color="lightgrey" offset="3%"/></linearGradient>
		<linearGradient id="GradGreen4" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="4%"/><stop stop-color="lightgrey" offset="4%"/></linearGradient>
		<linearGradient id="GradGreen5" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="5%"/><stop stop-color="lightgrey" offset="5%"/></linearGradient>
		<linearGradient id="GradGreen6" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="6%"/><stop stop-color="lightgrey" offset="6%"/></linearGradient>
		<linearGradient id="GradGreen7" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="7%"/><stop stop-color="lightgrey" offset="7%"/></linearGradient>
		<linearGradient id="GradGreen8" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="8%"/><stop stop-color="lightgrey" offset="8%"/></linearGradient>
		<linearGradient id="GradGreen9" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="9%"/><stop stop-color="lightgrey" offset="9%"/></linearGradient>
		<linearGradient id="GradGreen10" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="10%"/><stop stop-color="lightgrey" offset="10%"/></linearGradient>
		<linearGradient id="GradGreen11" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="11%"/><stop stop-color="lightgrey" offset="11%"/></linearGradient>
		<linearGradient id="GradGreen12" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="12%"/><stop stop-color="lightgrey" offset="12%"/></linearGradient>
		<linearGradient id="GradGreen13" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="13%"/><stop stop-color="lightgrey" offset="13%"/></linearGradient>
		<linearGradient id="GradGreen14" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="14%"/><stop stop-color="lightgrey" offset="14%"/></linearGradient>
		<linearGradient id="GradGreen15" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="15%"/><stop stop-color="lightgrey" offset="15%"/></linearGradient>
		<linearGradient id="GradGreen16" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="16%"/><stop stop-color="lightgrey" offset="16%"/></linearGradient>
		<linearGradient id="GradGreen17" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="17%"/><stop stop-color="lightgrey" offset="17%"/></linearGradient>
		<linearGradient id="GradGreen18" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="18%"/><stop stop-color="lightgrey" offset="18%"/></linearGradient>
		<linearGradient id="GradGreen19" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="19%"/><stop stop-color="lightgrey" offset="19%"/></linearGradient>
		<linearGradient id="GradGreen20" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="20%"/><stop stop-color="lightgrey" offset="20%"/></linearGradient>
		<linearGradient id="GradGreen21" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="21%"/><stop stop-color="lightgrey" offset="21%"/></linearGradient>
		<linearGradient id="GradGreen22" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="22%"/><stop stop-color="lightgrey" offset="22%"/></linearGradient>
		<linearGradient id="GradGreen23" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="23%"/><stop stop-color="lightgrey" offset="23%"/></linearGradient>
		<linearGradient id="GradGreen24" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="24%"/><stop stop-color="lightgrey" offset="24%"/></linearGradient>
		<linearGradient id="GradGreen25" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="25%"/><stop stop-color="lightgrey" offset="25%"/></linearGradient>
		<linearGradient id="GradGreen26" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="26%"/><stop stop-color="lightgrey" offset="26%"/></linearGradient>
		<linearGradient id="GradGreen27" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="27%"/><stop stop-color="lightgrey" offset="27%"/></linearGradient>
		<linearGradient id="GradGreen28" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="28%"/><stop stop-color="lightgrey" offset="28%"/></linearGradient>
		<linearGradient id="GradGreen29" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="29%"/><stop stop-color="lightgrey" offset="29%"/></linearGradient>
		<linearGradient id="GradGreen30" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="30%"/><stop stop-color="lightgrey" offset="30%"/></linearGradient>
		<linearGradient id="GradGreen31" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="31%"/><stop stop-color="lightgrey" offset="31%"/></linearGradient>
		<linearGradient id="GradGreen32" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="32%"/><stop stop-color="lightgrey" offset="32%"/></linearGradient>
		<linearGradient id="GradGreen33" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="33%"/><stop stop-color="lightgrey" offset="33%"/></linearGradient>
		<linearGradient id="GradGreen34" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="34%"/><stop stop-color="lightgrey" offset="34%"/></linearGradient>
		<linearGradient id="GradGreen35" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="35%"/><stop stop-color="lightgrey" offset="35%"/></linearGradient>
		<linearGradient id="GradGreen36" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="36%"/><stop stop-color="lightgrey" offset="36%"/></linearGradient>
		<linearGradient id="GradGreen37" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="37%"/><stop stop-color="lightgrey" offset="37%"/></linearGradient>
		<linearGradient id="GradGreen38" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="38%"/><stop stop-color="lightgrey" offset="38%"/></linearGradient>
		<linearGradient id="GradGreen39" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="39%"/><stop stop-color="lightgrey" offset="39%"/></linearGradient>
		<linearGradient id="GradGreen40" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="40%"/><stop stop-color="lightgrey" offset="40%"/></linearGradient>
		<linearGradient id="GradGreen41" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="41%"/><stop stop-color="lightgrey" offset="41%"/></linearGradient>
		<linearGradient id="GradGreen42" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="42%"/><stop stop-color="lightgrey" offset="42%"/></linearGradient>
		<linearGradient id="GradGreen43" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="43%"/><stop stop-color="lightgrey" offset="43%"/></linearGradient>
		<linearGradient id="GradGreen44" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="44%"/><stop stop-color="lightgrey" offset="44%"/></linearGradient>
		<linearGradient id="GradGreen45" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="45%"/><stop stop-color="lightgrey" offset="45%"/></linearGradient>
		<linearGradient id="GradGreen46" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="46%"/><stop stop-color="lightgrey" offset="46%"/></linearGradient>
		<linearGradient id="GradGreen47" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="47%"/><stop stop-color="lightgrey" offset="47%"/></linearGradient>
		<linearGradient id="GradGreen48" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="48%"/><stop stop-color="lightgrey" offset="48%"/></linearGradient>
		<linearGradient id="GradGreen49" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="49%"/><stop stop-color="lightgrey" offset="49%"/></linearGradient>
		<linearGradient id="GradGreen50" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="50%"/><stop stop-color="lightgrey" offset="50%"/></linearGradient>
		<linearGradient id="GradGreen51" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="51%"/><stop stop-color="lightgrey" offset="51%"/></linearGradient>
		<linearGradient id="GradGreen52" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="52%"/><stop stop-color="lightgrey" offset="52%"/></linearGradient>
		<linearGradient id="GradGreen53" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="53%"/><stop stop-color="lightgrey" offset="53%"/></linearGradient>
		<linearGradient id="GradGreen54" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="54%"/><stop stop-color="lightgrey" offset="54%"/></linearGradient>
		<linearGradient id="GradGreen55" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="55%"/><stop stop-color="lightgrey" offset="55%"/></linearGradient>
		<linearGradient id="GradGreen56" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="56%"/><stop stop-color="lightgrey" offset="56%"/></linearGradient>
		<linearGradient id="GradGreen57" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="57%"/><stop stop-color="lightgrey" offset="57%"/></linearGradient>
		<linearGradient id="GradGreen58" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="58%"/><stop stop-color="lightgrey" offset="58%"/></linearGradient>
		<linearGradient id="GradGreen59" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="59%"/><stop stop-color="lightgrey" offset="59%"/></linearGradient>
		<linearGradient id="GradGreen60" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="60%"/><stop stop-color="lightgrey" offset="60%"/></linearGradient>
		<linearGradient id="GradGreen61" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="61%"/><stop stop-color="lightgrey" offset="61%"/></linearGradient>
		<linearGradient id="GradGreen62" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="62%"/><stop stop-color="lightgrey" offset="62%"/></linearGradient>
		<linearGradient id="GradGreen63" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="63%"/><stop stop-color="lightgrey" offset="63%"/></linearGradient>
		<linearGradient id="GradGreen64" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="64%"/><stop stop-color="lightgrey" offset="64%"/></linearGradient>
		<linearGradient id="GradGreen65" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="65%"/><stop stop-color="lightgrey" offset="65%"/></linearGradient>
		<linearGradient id="GradGreen66" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="66%"/><stop stop-color="lightgrey" offset="66%"/></linearGradient>
		<linearGradient id="GradGreen67" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="67%"/><stop stop-color="lightgrey" offset="67%"/></linearGradient>
		<linearGradient id="GradGreen68" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="68%"/><stop stop-color="lightgrey" offset="68%"/></linearGradient>
		<linearGradient id="GradGreen69" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="69%"/><stop stop-color="lightgrey" offset="69%"/></linearGradient>
		<linearGradient id="GradGreen70" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="70%"/><stop stop-color="lightgrey" offset="70%"/></linearGradient>
		<linearGradient id="GradGreen71" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="71%"/><stop stop-color="lightgrey" offset="71%"/></linearGradient>
		<linearGradient id="GradGreen72" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="72%"/><stop stop-color="lightgrey" offset="72%"/></linearGradient>
		<linearGradient id="GradGreen73" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="73%"/><stop stop-color="lightgrey" offset="73%"/></linearGradient>
		<linearGradient id="GradGreen74" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="74%"/><stop stop-color="lightgrey" offset="74%"/></linearGradient>
		<linearGradient id="GradGreen75" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="75%"/><stop stop-color="lightgrey" offset="75%"/></linearGradient>
		<linearGradient id="GradGreen76" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="76%"/><stop stop-color="lightgrey" offset="76%"/></linearGradient>
		<linearGradient id="GradGreen77" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="77%"/><stop stop-color="lightgrey" offset="77%"/></linearGradient>
		<linearGradient id="GradGreen78" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="78%"/><stop stop-color="lightgrey" offset="78%"/></linearGradient>
		<linearGradient id="GradGreen79" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="79%"/><stop stop-color="lightgrey" offset="79%"/></linearGradient>
		<linearGradient id="GradGreen80" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="80%"/><stop stop-color="lightgrey" offset="80%"/></linearGradient>
		<linearGradient id="GradGreen81" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="81%"/><stop stop-color="lightgrey" offset="81%"/></linearGradient>
		<linearGradient id="GradGreen82" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="82%"/><stop stop-color="lightgrey" offset="82%"/></linearGradient>
		<linearGradient id="GradGreen83" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="83%"/><stop stop-color="lightgrey" offset="83%"/></linearGradient>
		<linearGradient id="GradGreen84" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="84%"/><stop stop-color="lightgrey" offset="84%"/></linearGradient>
		<linearGradient id="GradGreen85" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="85%"/><stop stop-color="lightgrey" offset="85%"/></linearGradient>
		<linearGradient id="GradGreen86" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="86%"/><stop stop-color="lightgrey" offset="86%"/></linearGradient>
		<linearGradient id="GradGreen87" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="87%"/><stop stop-color="lightgrey" offset="87%"/></linearGradient>
		<linearGradient id="GradGreen88" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="88%"/><stop stop-color="lightgrey" offset="88%"/></linearGradient>
		<linearGradient id="GradGreen89" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="89%"/><stop stop-color="lightgrey" offset="89%"/></linearGradient>
		<linearGradient id="GradGreen90" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="90%"/><stop stop-color="lightgrey" offset="90%"/></linearGradient>
		<linearGradient id="GradGreen91" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="91%"/><stop stop-color="lightgrey" offset="91%"/></linearGradient>
		<linearGradient id="GradGreen92" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="92%"/><stop stop-color="lightgrey" offset="92%"/></linearGradient>
		<linearGradient id="GradGreen93" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="93%"/><stop stop-color="lightgrey" offset="93%"/></linearGradient>
		<linearGradient id="GradGreen94" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="94%"/><stop stop-color="lightgrey" offset="94%"/></linearGradient>
		<linearGradient id="GradGreen95" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="95%"/><stop stop-color="lightgrey" offset="95%"/></linearGradient>
		<linearGradient id="GradGreen96" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="96%"/><stop stop-color="lightgrey" offset="96%"/></linearGradient>
		<linearGradient id="GradGreen97" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="97%"/><stop stop-color="lightgrey" offset="97%"/></linearGradient>
		<linearGradient id="GradGreen98" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="98%"/><stop stop-color="lightgrey" offset="98%"/></linearGradient>
		<linearGradient id="GradGreen99" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="99%"/><stop stop-color="lightgrey" offset="99%"/></linearGradient>
		<linearGradient id="GradGreen100" x1="0" x2="0" y1="1" y2="0"><stop stop-color="green" offset="100%"/><stop stop-color="lightgrey" offset="100%"/></linearGradient>
	</defs>

	<!-- Shape definitions -->
	<g visibility="hidden">
		<path id="TCorePool" transform="scale(2.5 3) translate(-50 -50)" d="
			M 100,0 L 100,90 C 100,100 55,100 50,100 C 45,100 0,100 0,90 L 0,0 Z" />
		
		<path id="TCoreVessel" transform="scale(1.8 2) translate(-50 -50)" d="
			M 90,15 L 90,90 C 90,100 55,100 50,100 C 45,100 10,100 10,90 L 10,15 Z
			M 5,15 C 5,0 40,0 50,0 C 60,0 95,0 95,15
			M 10,15 L 0,15
			M 90,15 L 100,15" />
		
		<path id="TCoreFuel" d="M -5,0 L-5,95 5,95 5,0 Z" />
		<path id="TControlRod" d="M -2.5,0 L-2.5,95 2.5,95 2.5,0 Z" />
		<g id="TControlRods" transform="scale(1.8 2) translate(-50 -50)">
			<use href="#TControlRod" x="20" y="0" />
			<use href="#TControlRod" x="35" y="0" />
			<use href="#TControlRod" x="65" y="0" />
			<use href="#TControlRod" x="80" y="0" />
		</g>
		
		<path id="TPumpCirculation" transform="scale(1 0.8) translate(-50 -50)" d="
			M 0,30 C 20,30 30,0 60,0 A 40,50,0,0,1,60,100	C 30,100 20,70 0,70 Z
			M 60,100 A 40,50,0,0,1,60,0
			M 60,40 A 10,10,0,0,1,60,60 10,10,0,0,1,60,40
			" />
		<path id="TPumpFreight" transform="scale(1 0.8) translate(-50 -50)" d="
			M 0,0	L 60,0 A 40,50,0,0,1,60,100 40,50,0,0,1,20,40	L 0,40 Z
			M 60,40 A 10,10,0,0,1,60,60 10,10,0,0,1,60,40
			" />
		<path id="TValveHydraulic" transform="scale(1 1) translate(-50 -50)" d="
			M 100,66 C 70,66 80,80 50,80 C 30,80 30,66 0,66
			L 0,34 C 30,34 30,20 50,20 C 70,20 70,34 100,34 Z
			M 50,75 A 25,25,0,0,1,50,25 25,25,0,0,1,50,75
			M 50,65 A 15,15,0,0,0,50,35 15,15,0,0,0,50,65
			M 50,65 L 50,35
			M 35,50 L 65,50
			" />
		<path id="TValveManual" transform="scale(1 1) translate(-50 -50)" d="
			M 100,66 C 70,66 80,80 50,80 C 30,80 30,66 0,66
			L 0,34 C 30,34 30,20 50,20 C 70,20 70,34 100,34 Z
			M 45,45 L 80,45 80,55 45,55 Z
			" />
		
		<path id="TSteamGenerator" transform="scale(1 2) translate(-50 -50)" d="
			M 0,10 C 20,0 20,0 50,0 C 80,0 80,0 100,10
			L 100,25 C 100,27 90,30 90,40
			L 90,90 C 90,100 60,100 50,100 C 40,100 10,100 10,90 L 10,40
			C 10,30 0,27 0,25 Z" />
		<path id="TSteamGenInner" transform="scale(1 1) translate(-50 -50)" d="
			M 0,0 L 20,0 C 60,0 60,0 60,50 C 60,100 60,100 20,100 L 0,100
			L 0,80 20,80 C 40,80 40,80 40,50 C 40,20 40,20 20,20 L 0,20 Z" />
			" />
		
		<path id="TTurbineSteam" transform="scale(1 1) translate(-50 -50)" d="
			M 0,50 A 50,50,0,0,0,100,50 50,50,0,0,0,0,50 Z
			" />
		<path id="TTurbineBlade" d="M -5,-5 L 45,0 40,10 5,5 Z" />
		<g id="TTurbineFan">
			<use href="#TTurbineBlade" x="0" y="0" transform="rotate(000 0 0)" />
			<use href="#TTurbineBlade" x="0" y="0" transform="rotate(045 0 0)" />
			<use href="#TTurbineBlade" x="0" y="0" transform="rotate(090 0 0)" />
			<use href="#TTurbineBlade" x="0" y="0" transform="rotate(135 0 0)" />
			<use href="#TTurbineBlade" x="0" y="0" transform="rotate(180 0 0)" />
			<use href="#TTurbineBlade" x="0" y="0" transform="rotate(225 0 0)" />
			<use href="#TTurbineBlade" x="0" y="0" transform="rotate(270 0 0)" />
			<use href="#TTurbineBlade" x="0" y="0" transform="rotate(315 0 0)" />
		</g>
		<path id="TTurbineGenerator" transform="scale(1 0.75) translate(-50 -50)" d="
			M 0,40 L 20,40 C 20,0 30,0 60,0 C 100,0 100,0 100,50 C 100,100 100,100 60,100 C 20,100 20,100 20,60 L 0,60 Z
			M 20,40 L 20,60" />
				
		<path id="TCondenserFrame" transform="scale(1 3) translate(-50 -50)" d="
			M 0,5 L 50,0 100,5 100,100 0,100 Z
			" />
		<path id="TCondenserCoil" transform="scale(1 1) translate(-45 -50)" d="
			M 100,10 L 100,0 0,0 0,100 100,100 100,90 10,90 10,10
			20,10 20,90 30,90 30,10 40,10 40,90 50,90 50,10 60,10 60,90 70,90 70,10 80,10 80,90 90,90 90,10	Z" />
		
		<path id="TCoolingTower" transform="scale(2 3) translate(-50 -50)" d="
		M 90,0 A 150,150,0,0,0,100,100
		L 0,100 A 150,150,0,0,0,10,0 Z" />
	</g>


	<!-- Core -->
	<g id="Core" transform="translate(300 500)">
		<defs>
			<linearGradient id="CorePoolGradient" x1="0" x2="0" y1="1" y2="0">
				<stop stop-color="blue" offset="0%" class="CorePoolGradient" />
				<stop stop-color="lightgrey" offset="0%" class="CorePoolGradient" />
			</linearGradient>
			<linearGradient id="CoreVesselGradient" x1="0" x2="0" y1="1" y2="0">
				<stop id="CoreVesselGradBlue" stop-color="blue" offset="0%" class="CoreVesselGradient" />
				<stop id="CoreVesselGradGrey" stop-color="darkgrey" offset="0%" class="CoreVesselGradient" />
			</linearGradient>
		</defs>
		<use id="CorePool" href="#TCorePool" x="0" y="0" style="stroke: black; stroke-width: 1px; fill: url(#CorePoolGradient);" />
		<use id="CoreVessel" href="#TCoreVessel" x="0" y="20" style="stroke: black; stroke-width: 2px; fill:url(#CoreVesselGradient)" />
		<use id="CoreVesselInteg" href="#TCoreVessel" x="0" y="20" style="stroke: red; stroke-width: 1px; stroke-dasharray: 0 10; fill:none" />
		<use id="CoreFuel" href="#TCoreFuel" x="0" y="0" style="stroke: red; stroke-width: 1px; fill:red" />
		<use id="ControlRods" href="#TControlRods" x="0" y="-140" style="stroke: green; stroke-width: 1px; fill:green" />
	</g>

	<!-- Primary Loops -->
	<use id="PrimaryPump1" href="#TPumpCirculation" x="600" y="270" style="stroke:black; stroke-width: 2px; fill:lightgrey" />
	<use id="PrimaryPump2" href="#TPumpCirculation" x="600" y="570" style="stroke:black; stroke-width: 2px; fill:lightgrey" />
	<use id="PrimaryPump3" href="#TPumpCirculation" x="600" y="870" style="stroke:black; stroke-width: 2px; fill:lightgrey" />

	<!-- 3 Steam generators  -->
	<use id="SteamGen1Out" href="#TSteamGenerator" x="800" y="200" style="stroke: blue; stroke-width: 1px; fill:none" />
	<use id="SteamGen1In"  href="#TSteamGenInner"  x="810" y="220" style="stroke: red; stroke-width: 1px; fill:none" />
	<use id="SteamGen2Out" href="#TSteamGenerator" x="800" y="500" style="stroke: blue; stroke-width: 1px; fill:none" />
	<use id="SteamGen2In"  href="#TSteamGenInner"  x="810" y="520" style="stroke: red; stroke-width: 1px; fill:none" />
	<use id="SteamGen3Out" href="#TSteamGenerator" x="800" y="800" style="stroke: blue; stroke-width: 1px; fill:none" />
	<use id="SteamGen3In"  href="#TSteamGenInner"  x="810" y="820" style="stroke: red; stroke-width: 1px; fill:none" />

	<!-- Secondary Loops -->
	<use id="L2ValveBypass1" href="#TValveHydraulic" x="1000" y="170" style="stroke:black; stroke-width: 1px; fill:lightgrey" />
	<use id="L2ValveActive1" href="#TValveHydraulic" x="1000" y="070" style="stroke:black; stroke-width: 1px; fill:lightgrey" />
	<use id="L2ValveBypass2" href="#TValveHydraulic" x="1000" y="370" style="stroke:black; stroke-width: 1px; fill:lightgrey" />
	<use id="L2ValveActive2" href="#TValveHydraulic" x="1000" y="470" style="stroke:black; stroke-width: 1px; fill:lightgrey" />
	<use id="L2ValveBypass3" href="#TValveHydraulic" x="1000" y="670" style="stroke:black; stroke-width: 1px; fill:lightgrey" />
	<use id="L2ValveActive3" href="#TValveHydraulic" x="1000" y="770" style="stroke:black; stroke-width: 1px; fill:lightgrey" />
	<use id="L2Pump1" href="#TPumpCirculation" x="1100" y="270" style="stroke:black; stroke-width: 2px; fill:lightgrey" />
	<use id="L2Pump2" href="#TPumpCirculation" x="1100" y="570" style="stroke:black; stroke-width: 2px; fill:lightgrey" />
	<use id="L2Pump3" href="#TPumpCirculation" x="1100" y="870" style="stroke:black; stroke-width: 2px; fill:lightgrey" />

	<!-- Turbines -->
	<use id="ElecGen1" href="#TTurbineGenerator" x="1300" y="170" style="stroke:black; stroke-width: 1px; fill:lightgrey" />
	<text id="ElecGen1Text" x="1270" y="170" font-size="25" fill="white">? kW</text>
	<use id="Turbine1" href="#TTurbineSteam" x="1200" y="170" style="stroke:black; stroke-width: 1px; fill:lightgrey" />
	<use id="Turbine1Fan" href="#TTurbineFan" x="1200" y="170" style="stroke:darkgrey; stroke-width: 1px; fill:lightgrey">
		<animateTransform attributeName="transform" type="rotate" from="360 1200 170" to="0 1200 170" dur="1s" repeatCount="indefinite" />
	</use>
	<use id="ElecGen2" href="#TTurbineGenerator" x="1300" y="470" style="stroke:black; stroke-width: 1px; fill:lightgrey" />
	<text id="ElecGen2Text" x="1270" y="470" font-size="25" fill="white">? kW</text>
	<use id="Turbine2" href="#TTurbineSteam" x="1200" y="470" style="stroke:black; stroke-width: 1px; fill:lightgrey" />
	<use id="Turbine2Fan" href="#TTurbineFan" x="1200" y="470" style="stroke:darkgrey; stroke-width: 1px; fill:lightgrey">
		<animateTransform attributeName="transform" type="rotate" from="360 1200 470" to="0 1200 470" dur="1s" repeatCount="indefinite" />
	</use>
	<use id="ElecGen3" href="#TTurbineGenerator" x="1300" y="770" style="stroke:black; stroke-width: 1px; fill:lightgrey" />
	<text id="ElecGen3Text" x="1270" y="770" font-size="25" fill="white">? kW</text>
	<use id="Turbine3" href="#TTurbineSteam" x="1200" y="770" style="stroke:black; stroke-width: 1px; fill:lightgrey" />
	<use id="Turbine3Fan" href="#TTurbineFan" x="1200" y="770" style="stroke:darkgrey; stroke-width: 1px; fill:lightgrey">
		<animateTransform attributeName="transform" type="rotate" from="360 1200 770" to="0 1200 770" dur="1s" repeatCount="indefinite" />
	</use>

	<!-- Cooling Loop -->
	<use id="CondenserOuter" href="#TCondenserFrame" x="1500" y="400" style="stroke: black; stroke-width: 1px; fill:none" />
	<use id="CondenserInner" href="#TCondenserCoil" x="1500" y="350" style="stroke: red; stroke-width: 1px; fill:none" />
	<use id="CondenserRefil" href="#TPumpFreight" x="1700" y="500" style="stroke:black; stroke-width: 1px; fill:lightgrey" />
	<use id="CoolingPump" href="#TPumpCirculation" x="1700" y="400" style="stroke:black; stroke-width: 1px; fill:lightgrey" />
	<use id="CoolingTower" href="#TCoolingTower" x="1920" y="300" style="stroke: black; stroke-width: 1px; fill:none" />
	<text x="1850" y="500" font-size="25" fill="black">Infinite Water</text>

	<!-- River -->
	<path d="M 2000,750 T 1980,770 1920,800 1800,900 1600,1000 L 2000,1000" style="fill:blue" />
	<text x="1870" y="950" font-size="25" fill="white">River Water</text>
	<use id="ExternalFreight" href="#TPumpFreight" x="1500" y="950" style="stroke:black; stroke-width: 1px; fill:lightgrey" />
	<use id="InternalFreight" href="#TPumpFreight" x="1800" y="950" style="stroke:black; stroke-width: 1px; fill:lightgrey" />

	<!-- <use id="InternalFreight" href="#TPumpFreight" x="1800" y="950" style="stroke:rgb(0,192,255); stroke-width: 1px; fill:lightgrey" /> -->
</svg>

<script>
	var data = [];

	// This function updates the SVG elements with the latest values from the webserver in Nucleares
	function updateSVGValues() {
		//$(".CorePoolGradient").attr("offset", data.COOLANT_CORE_QUANTITY_IN_VESSEL + "%");
		$("#CoreVesselGradBlue").attr("stop-color", data.CORE_TEMP >= data.CORE_TEMP_OPERATIVE ? "rgb(" + ((data.CORE_TEMP - data.CORE_TEMP_OPERATIVE) * 10) + ",0,255)" : "rgb(0,0," + (255 - (data.CORE_TEMP_OPERATIVE - data.CORE_TEMP) * 10) + ")");
		$("#CoreVesselGradGrey").attr("stop-color", data.CORE_STEAM_PRESENT == "FALSE" ? "darkgrey" : data.CORE_HIGH_STEAM_PRESENT == "TRUE" ? "red" : "brown");

		$(".CoreVesselGradient").attr("offset", data.COOLANT_CORE_PRIMARY_LOOP_LEVEL + "%");
		$("#CoreVessel").css("stroke-dasharray", (10 - data.CORE_WEAR / 10) + " " + (data.CORE_WEAR / 10));
		$("#CoreVesselInteg").css("stroke-dasharray", (10 - data.CORE_INTEGRITY / 10) + " " + (data.CORE_INTEGRITY / 10));
		$("#ControlRods").attr("y", -140 + (data.RODS_POS_ACTUAL * 1.2));

		$("#CoreFuel").css("fill", data.CORE_CRITICAL_MASS_REACHED == "FALSE" ? "black" : data.CORE_STATE_CRITICALITY >= 0 ? ("rgb(255," + (data.CORE_STATE_CRITICALITY * 500) + ",0)") : ("rgb(" + (255 - data.CORE_STATE_CRITICALITY * 500) + ",0,0)"));

		var pump1stroke = "white";
		var pump2stroke = "white";
		var pump3stroke = "white";
		switch (data.COOLANT_CORE_CIRCULATION_PUMP_0_STATUS) {
			case "0": pump1stroke = "black"; break;
			case "1": pump1stroke = "purple"; break;
			case "2": pump1stroke = "green"; break;
			case "3": pump1stroke = "red"; break;
			case "4": pump1stroke = "lightgrey"; break;
			case "5": pump1stroke = "brown"; break;
		}
		switch (data.COOLANT_CORE_CIRCULATION_PUMP_1_STATUS) {
			case "0": pump2stroke = "black"; break;
			case "1": pump2stroke = "purple"; break;
			case "2": pump2stroke = "green"; break;
			case "3": pump2stroke = "red"; break;
			case "4": pump2stroke = "lightgrey"; break;
			case "5": pump2stroke = "brown"; break;
		}
		switch (data.COOLANT_CORE_CIRCULATION_PUMP_2_STATUS) {
			case "0": pump3stroke = "black"; break;
			case "1": pump3stroke = "purple"; break;
			case "2": pump3stroke = "green"; break;
			case "3": pump3stroke = "red"; break;
			case "4": pump3stroke = "lightgrey"; break;
			case "5": pump3stroke = "brown"; break;
		}
		$("#PrimaryPump1")
			.css("stroke", pump1stroke)
			.css("fill", data.COOLANT_CORE_CIRCULATION_PUMP_0_DRY_STATUS == 1 ? "brown" : "url(#GradGreen" + data.COOLANT_CORE_CIRCULATION_PUMP_0_SPEED + ")");
		$("#PrimaryPump2")
			.css("stroke", pump2stroke)
			.css("fill", data.COOLANT_CORE_CIRCULATION_PUMP_1_DRY_STATUS == 1 ? "brown" : "url(#GradGreen" + data.COOLANT_CORE_CIRCULATION_PUMP_1_SPEED + ")");
		$("#PrimaryPump3")
			.css("stroke", pump3stroke)
			.css("fill", data.COOLANT_CORE_CIRCULATION_PUMP_2_DRY_STATUS == 1 ? "brown" : "url(#GradGreen" + data.COOLANT_CORE_CIRCULATION_PUMP_2_SPEED + ")");

		function setFanSpeed(id, RPM) {
			let at = $("#" + id + " > animateTransform");
			let dur = (10 - 9*(RPM/3060)) + "s";
			let rc = RPM == 0 ? "0" : "indefinite";
			if (at.attr("dur") != dur) at.attr("dur", dur);
			if (at.attr("repeatCount") != rc) at.attr("repeatCount", rc);
		}
		$("#Turbine1Fan").css("fill", "url(#GradGreen" + Math.floor((data.STEAM_TURBINE_0_PRESSURE-0)*1.5) + ")");
		setFanSpeed("Turbine1Fan", data.STEAM_TURBINE_0_RPM);
		$("#Turbine2Fan").css("fill", "url(#GradGreen" + Math.floor((data.STEAM_TURBINE_1_PRESSURE-0)*1.5) + ")");
		setFanSpeed("Turbine2Fan", data.STEAM_TURBINE_1_RPM);
		$("#Turbine3Fan").css("fill", "url(#GradGreen" + Math.floor((data.STEAM_TURBINE_2_PRESSURE-0)*1.5) + ")");
		setFanSpeed("Turbine3Fan", data.STEAM_TURBINE_2_RPM);
		
		$("#ElecGen1").css("fill", data.GENERATOR_0_KW == 0 ? "grey" : data.GENERATOR_0_BREAKER == "FALSE" ? "green" : "brown");
		$("#ElecGen2").css("fill", data.GENERATOR_1_KW == 0 ? "grey" : data.GENERATOR_1_BREAKER == "FALSE" ? "green" : "brown");
		$("#ElecGen3").css("fill", data.GENERATOR_2_KW == 0 ? "grey" : data.GENERATOR_2_BREAKER == "FALSE" ? "green" : "brown");
		$("#ElecGen1Text").text((Math.round(data.GENERATOR_0_KW / 100)/10) + " kW");
		$("#ElecGen2Text").text((Math.round(data.GENERATOR_1_KW / 100)/10) + " kW");
		$("#ElecGen3Text").text((Math.round(data.GENERATOR_2_KW / 100)/10) + " kW");
	}

	// Start a timer that runs every 1 seconds
	var pageInitialized = false;
	$(document).ready(function() {
		// Prevent multiple initializations because I was seeing multiple timers running
    if (pageInitialized) return;
    pageInitialized = true;

		// Create a function that will update the data array with the latest value for a variable that is passed in
		function createUpdateFunction(variable) {
			return function (result) {
				// Put the result into the data array
				data[variable] = result;
			}
		}

		setInterval(function(){
			// Update the display with previously fetched data
			updateSVGValues();

			// Loop through all VARIABLES and get the latest values from the webserver
			VARIABLES.forEach(function(variable) {
				$.get("http://localhost:8785/?Variable=" + variable, createUpdateFunction(variable), "text");
			});
		}, 1000);
	});

	// All the game variables that are known about
	// You can comment out any of these that you don't want to use
	// Source: https://nuclearesgame.blogspot.com/2023/11/webserver.html
	const VARIABLES = [
		"CORE_TEMP",
		"CORE_TEMP_OPERATIVE",
		"CORE_TEMP_MAX",
		"CORE_TEMP_MIN",
		"CORE_TEMP_RESIDUAL",
		"CORE_PRESSURE",
		"CORE_PRESSURE_MAX",
		"CORE_PRESSURE_OPERATIVE",
		"CORE_INTEGRITY",
		"CORE_WEAR",
		"CORE_STATE",
		"CORE_STATE_CRITICALITY",
		"CORE_CRITICAL_MASS_REACHED",
		"CORE_CRITICAL_MASS_REACHED_COUNTER",
		"CORE_IMMINENT_FUSION",
		"CORE_READY_FOR_START",
		"CORE_STEAM_PRESENT",
		"CORE_HIGH_STEAM_PRESENT",
		"TIME",
		"TIME_STAMP",
		"COOLANT_CORE_STATE",
		"COOLANT_CORE_PRESSURE",
		"COOLANT_CORE_MAX_PRESSURE",
		"COOLANT_CORE_VESSEL_TEMPERATURE",
		"COOLANT_CORE_QUANTITY_IN_VESSEL",
		"COOLANT_CORE_PRIMARY_LOOP_LEVEL",
		"COOLANT_CORE_FLOW_SPEED",
		"COOLANT_CORE_FLOW_ORDERED_SPEED",
		"COOLANT_CORE_FLOW_REACHED_SPEED",
		"COOLANT_CORE_QUANTITY_CIRCULATION_PUMPS_PRESENT",
		"COOLANT_CORE_QUANTITY_FREIGHT_PUMPS_PRESENT",
		"COOLANT_CORE_CIRCULATION_PUMP_0_STATUS",
		"COOLANT_CORE_CIRCULATION_PUMP_1_STATUS",
		"COOLANT_CORE_CIRCULATION_PUMP_2_STATUS",
		"COOLANT_CORE_CIRCULATION_PUMP_0_DRY_STATUS",
		"COOLANT_CORE_CIRCULATION_PUMP_1_DRY_STATUS",
		"COOLANT_CORE_CIRCULATION_PUMP_2_DRY_STATUS",
		"COOLANT_CORE_CIRCULATION_PUMP_0_OVERLOAD_STATUS",
		"COOLANT_CORE_CIRCULATION_PUMP_1_OVERLOAD_STATUS",
		"COOLANT_CORE_CIRCULATION_PUMP_2_OVERLOAD_STATUS",
		"COOLANT_CORE_CIRCULATION_PUMP_0_ORDERED_SPEED",
		"COOLANT_CORE_CIRCULATION_PUMP_1_ORDERED_SPEED",
		"COOLANT_CORE_CIRCULATION_PUMP_2_ORDERED_SPEED",
		"COOLANT_CORE_CIRCULATION_PUMP_0_SPEED",
		"COOLANT_CORE_CIRCULATION_PUMP_1_SPEED",
		"COOLANT_CORE_CIRCULATION_PUMP_2_SPEED",
		"RODS_STATUS",
		"RODS_MOVEMENT_SPEED",
		"RODS_MOVEMENT_SPEED_DECREASED_HIGH_TEMPERATURE",
		"RODS_DEFORMED",
		"RODS_TEMPERATURE",
		"RODS_MAX_TEMPERATURE",
		"RODS_POS_ORDERED",
		"RODS_POS_ACTUAL",
		"RODS_POS_REACHED",
		"RODS_QUANTITY",
		"RODS_ALIGNED",
		"GENERATOR_0_KW",
		"GENERATOR_1_KW",
		"GENERATOR_2_KW",
		"GENERATOR_0_V",
		"GENERATOR_1_V",
		"GENERATOR_2_V",
		"GENERATOR_0_A",
		"GENERATOR_1_A",
		"GENERATOR_2_A",
		"GENERATOR_0_HERTZ",
		"GENERATOR_1_HERTZ",
		"GENERATOR_2_HERTZ",
		"GENERATOR_0_BREAKER",
		"GENERATOR_1_BREAKER",
		"GENERATOR_2_BREAKER",
		"STEAM_TURBINE_0_RPM",
		"STEAM_TURBINE_1_RPM",
		"STEAM_TURBINE_2_RPM",
		"STEAM_TURBINE_0_TEMPERATURE",
		"STEAM_TURBINE_1_TEMPERATURE",
		"STEAM_TURBINE_2_TEMPERATURE",
		"STEAM_TURBINE_0_PRESSURE",
		"STEAM_TURBINE_1_PRESSURE",
		"STEAM_TURBINE_2_PRESSURE"];

</script>
</body>
</html>